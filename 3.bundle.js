(()=>{"use strict";var e,t={7534:(e,t,n)=>{function r(e,t){return new Promise((n=>{e.addEventListener("message",(function r({data:o}){null!=o&&o.type===t&&(e.removeEventListener("message",r),n(o))}))}))}let o;async function i(e,t,i){const a={type:"wasm_bindgen_worker_init",module:e,memory:t,receiver:i.receiver()};o=await Promise.all(Array.from({length:i.numThreads()},(async()=>{const e=new Worker(new URL(n.p+n.u(534),n.b),{type:void 0});return e.postMessage(a),await r(e,"wasm_bindgen_worker_ready"),e}))),i.build()}n.d(t,{Q:()=>i}),r(self,"wasm_bindgen_worker_init").then((async e=>{const t=await n.e(54).then(n.bind(n,6054));await t.default(e.module,e.memory),postMessage({type:"wasm_bindgen_worker_ready"}),t.wbg_rayon_start_worker(e.receiver)}))},6054:(e,t,n)=>{n.r(t),n.d(t,{start:()=>h,initThreadPool:()=>k,wbg_rayon_start_worker:()=>S,WorldState:()=>A,wbg_rayon_PoolBuilder:()=>j,default:()=>T});var r=n(7534);let o;const i=new Array(32).fill(void 0);function a(e){return i[e]}i.push(void 0,null,!0,!1);let _=i.length;function s(e){const t=a(e);return function(e){e<36||(i[e]=_,_=e)}(e),t}let c=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let u=null;function l(){return null!==u&&u.buffer===o.memory.buffer||(u=new Uint8Array(o.memory.buffer)),u}function w(e,t){return c.decode(l().slice(e,e+t))}function b(e){_===i.length&&i.push(i.length+1);const t=_;return _=i[t],i[t]=e,t}function d(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=d(e[0]));for(let r=1;r<t;r++)n+=", "+d(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}let f=0,g=new TextEncoder("utf-8");function p(e,t,n){if(void 0===n){const n=g.encode(e),r=t(n.length);return l().subarray(r,r+n.length).set(n),f=n.length,r}let r=e.length,o=t(r);const i=l();let a=0;for(;a<r;a++){const t=e.charCodeAt(a);if(t>127)break;i[o+a]=t}return a!==r&&(0!==a&&(e=e.slice(a)),o=n(o,r,r=a+3*e.length),a+=function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}}(e,l().subarray(o+a,o+r)).written),f=a,o}let m=null;function y(){return null!==m&&m.buffer===o.memory.buffer||(m=new Int32Array(o.memory.buffer)),m}function h(){o.start()}function v(e,t){try{return e.apply(this,t)}catch(e){o.__wbindgen_exn_store(b(e))}}function k(e){return s(o.initThreadPool(e))}function S(e){o.wbg_rayon_start_worker(e)}class A{static __wrap(e){const t=Object.create(A.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_worldstate_free(e)}constructor(){var e=o.worldstate_new();return A.__wrap(e)}init(e,t,n,r){var i=p(e,o.__wbindgen_malloc,o.__wbindgen_realloc),a=f,_=p(t,o.__wbindgen_malloc,o.__wbindgen_realloc),s=f,c=p(n,o.__wbindgen_malloc,o.__wbindgen_realloc),u=f,l=p(r,o.__wbindgen_malloc,o.__wbindgen_realloc),w=f;o.worldstate_init(this.ptr,i,a,_,s,c,u,l,w)}update(e){var t=p(e,o.__wbindgen_malloc,o.__wbindgen_realloc),n=f;return s(o.worldstate_update(this.ptr,t,n))}inlay_hints(){return s(o.worldstate_inlay_hints(this.ptr))}completions(e,t){return s(o.worldstate_completions(this.ptr,e,t))}hover(e,t){return s(o.worldstate_hover(this.ptr,e,t))}code_lenses(){return s(o.worldstate_code_lenses(this.ptr))}references(e,t,n){return s(o.worldstate_references(this.ptr,e,t,n))}prepare_rename(e,t){return s(o.worldstate_prepare_rename(this.ptr,e,t))}rename(e,t,n){var r=p(n,o.__wbindgen_malloc,o.__wbindgen_realloc),i=f;return s(o.worldstate_rename(this.ptr,e,t,r,i))}signature_help(e,t){return s(o.worldstate_signature_help(this.ptr,e,t))}definition(e,t){return s(o.worldstate_definition(this.ptr,e,t))}type_definition(e,t){return s(o.worldstate_type_definition(this.ptr,e,t))}document_symbols(){return s(o.worldstate_document_symbols(this.ptr))}type_formatting(e,t,n){return s(o.worldstate_type_formatting(this.ptr,e,t,n.codePointAt(0)))}folding_ranges(){return s(o.worldstate_folding_ranges(this.ptr))}goto_implementation(e,t){return s(o.worldstate_goto_implementation(this.ptr,e,t))}}class j{static __wrap(e){const t=Object.create(j.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();o.__wbg_wbg_rayon_poolbuilder_free(e)}numThreads(){return o.wbg_rayon_poolbuilder_numThreads(this.ptr)>>>0}receiver(){return o.wbg_rayon_poolbuilder_receiver(this.ptr)}build(){o.wbg_rayon_poolbuilder_build(this.ptr)}}const T=async function e(t,i){void 0===t&&(t=new URL(n(75),n.b));const _={wbg:{}};_.wbg.__wbindgen_object_drop_ref=function(e){s(e)},_.wbg.__wbindgen_string_new=function(e,t){return b(w(e,t))},_.wbg.__wbindgen_object_clone_ref=function(e){return b(a(e))},_.wbg.__wbg_new_68adb0d58759a4ed=function(){return b(new Object)},_.wbg.__wbindgen_number_new=function(e){return b(e)},_.wbg.__wbindgen_is_undefined=function(e){return void 0===a(e)},_.wbg.__wbg_set_2e79e744454afade=function(e,t,n){a(e)[s(t)]=s(n)},_.wbg.__wbg_new_693216e109162396=function(){return b(new Error)},_.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){var n=p(a(t).stack,o.__wbindgen_malloc,o.__wbindgen_realloc),r=f;y()[e/4+1]=r,y()[e/4+0]=n},_.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(w(e,t))}finally{o.__wbindgen_free(e,t)}},_.wbg.__wbg_now_559193109055ebad=function(e){return a(e).now()},_.wbg.__wbg_new_949bbc1147195c4e=function(){return b(new Array)},_.wbg.__wbg_newnoargs_be86524d73f67598=function(e,t){return b(new Function(w(e,t)))},_.wbg.__wbg_get_4d0f21c2f823742e=function(){return v((function(e,t){return b(Reflect.get(a(e),a(t)))}),arguments)},_.wbg.__wbg_call_888d259a5fefc347=function(){return v((function(e,t){return b(a(e).call(a(t)))}),arguments)},_.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return v((function(){return b(self.self)}),arguments)},_.wbg.__wbg_window_baec038b5ab35c54=function(){return v((function(){return b(window.window)}),arguments)},_.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return v((function(){return b(globalThis.globalThis)}),arguments)},_.wbg.__wbg_global_1bc0b39582740e95=function(){return v((function(){return b(n.g.global)}),arguments)},_.wbg.__wbg_push_284486ca27c6aa8b=function(e,t){return a(e).push(a(t))},_.wbg.__wbg_new_342a24ca698edd87=function(e,t){return b(new Error(w(e,t)))},_.wbg.__wbindgen_debug_string=function(e,t){var n=p(d(a(t)),o.__wbindgen_malloc,o.__wbindgen_realloc),r=f;y()[e/4+1]=r,y()[e/4+0]=n},_.wbg.__wbindgen_throw=function(e,t){throw new Error(w(e,t))},_.wbg.__wbindgen_module=function(){return b(e.__wbindgen_wasm_module)},_.wbg.__wbindgen_memory=function(){return b(o.memory)},_.wbg.__wbg_startWorkers_04f63eca19916b8f=function(e,t,n){return b((0,r.Q)(s(e),s(t),j.__wrap(n)))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t)),_.wbg.memory=i||new WebAssembly.Memory({initial:35,maximum:16384,shared:!0});const{instance:c,module:u}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,_);return o=c.exports,e.__wbindgen_wasm_module=u,o.__wbindgen_start(),o}},75:(e,t,n)=>{e.exports=n.p+"e2fa2c04a846787611e7.wasm"}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".bundle.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=self.location+"";var e={3:1,925:1,54:1,534:1};r.f.i=(t,n)=>{e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkra_wasm_demo=self.webpackChunkra_wasm_demo||[],n=t.push.bind(t);t.push=t=>{var[o,i,a]=t;for(var _ in i)r.o(i,_)&&(r.m[_]=i[_]);for(a&&a(r);o.length;)e[o.pop()]=1;n(t)}})(),e=r(6054),(async()=>{await(0,e.default)(),await(0,e.initThreadPool)(navigator.hardwareConcurrency);const t=new e.WorldState;onmessage=e=>{const{which:n,args:r,id:o}=e.data,i=t[n](...r);postMessage({id:o,result:i})}})().then((()=>{postMessage({id:"ra-worker-ready"})}))})();